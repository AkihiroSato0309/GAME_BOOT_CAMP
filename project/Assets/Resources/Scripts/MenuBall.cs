//========================================================================================
//
// 製作者 :　大榮圭祐
//
//========================================================================================

using UnityEngine;
using System.Collections;

public class MenuBall : MonoBehaviour {
	//========================================================================================
	// 定数
	//========================================================================================
	
	
	//========================================================================================
	// 変数
	//========================================================================================
	//--public----------------------

	
	//--pirvate---------------------
	bool isMovingLeft = true;
	
	
	//========================================================================================
	// プロパティ。イベント
	//========================================================================================
	
	
	//========================================================================================
	// 関数
	//========================================================================================
	//--------------------------------------------------------
	// 初期化処理
	//--------------------------------------------------------
	void Start () 
	{
		gameObject.rigidbody2D.angularVelocity = 1000.0f;
	}
	
	//--------------------------------------------------------
	// 更新処理
	//--------------------------------------------------------
	void Update () 
	{
		if (Random.Range (0, 60) == 0)
		{
			float force = Random.Range (5.0f, 10.0f);
			if (isMovingLeft) force *= -1;
			gameObject.rigidbody2D.AddForce( new Vector2(force, 0.0f) );
			gameObject.rigidbody2D.angularVelocity = force * 10;
		}
	}

	//--------------------------------------------------------
	// 更新処理
	//--------------------------------------------------------
	void OnCollisionEnter2D (Collision2D other)
	{
		isMovingLeft = !isMovingLeft;
	}
}
